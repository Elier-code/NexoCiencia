<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Panel del Usuario</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../CSS/usuario.css">
    <script src="../JS/usuario.js" defer></script>
    <script src="../JS/auth.js"></script>
    <script src="../JS/utilidades.js"></script>
</head>
<body>
    <!-- Alerta personalizada -->
    <div id="customAlert" class="custom-alert"></div>

    <div class="panel-usuario">
        <h2 id="tituloUsuario">
            <img src="https://cdn-icons-png.flaticon.com/512/2922/2922506.png" alt="Icono Usuario">
            Panel del Usuario <span id="nombreSesion">Nombre</span>
        </h2>

        <div class="opcion-usuario">
            <h3>Actualizar Datos</h3>
            <p>Edita tu informaci칩n personal para mantenerla actualizada.</p>
            <button onclick="actualizarDatosUsuario()">Actualizar mis datos</button>
        </div>

        <div class="opcion-usuario">
            <h3>Resumen de Progreso</h3>
            <p>Consulta tus logros, temas completados y evaluaciones.</p>
            <button onclick="verProgreso()">Ver mi progreso</button>
        </div>
        <button onclick="logout()">Cerrar sesi칩n</button>
    </div>

    <script>
        showUserName()
        checkSession(true)

        function mostrarAlertaPersonalizada(mensaje) {
            const alerta = document.getElementById('customAlert');
            alerta.textContent = mensaje;
            alerta.classList.add('show');

            setTimeout(() => {
                alerta.classList.remove('show');
            }, 3000);
        }

        function actualizarDatosUsuario() {
            mostrarAlertaPersonalizada("Redirigiendo a la p치gina de edici칩n de datos del usuario...");
            setTimeout(() => {
                window.location.href = "usuarioModifica.html";
            }, 1500);
        }

        function verProgreso() {
            mostrarAlertaPersonalizada("Redirigiendo a progreso personal.");
            // Puedes redirigir si deseas:
            // setTimeout(() => { window.location.href = "/usuario/progreso.html"; }, 1500);
            setTimeout(() => {
                window.location.href = "progreso.html";
            }, 1500);
        }
    </script>
</body>
</html>
