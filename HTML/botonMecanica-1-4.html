<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <title>Examen</title>
    <link rel="stylesheet" href="../CSS/botones.css">
    <script src="../JS/icono.js"></script>
    <script src="../JS/utilidades.js"></script>
    <script src="../JS/auth.js"></script>
    <style>
        .contenedor {
            padding: 30px;
            margin: 20px auto;
        }

        .cuestionario {
            margin-top: 20px;
            text-align: left;
        }
    </style>
</head>

<body>

    <div class="header">
        <div class="cont-volver">
            <button onclick="history.back()" id="btn-volver">&larr;</button>
        </div>
        <h1>Examen</h1>
    </div>

    <div class="contenedor">
        <form class="cuestionario">

            <!-- Preguntas -->
            <div class="pregunta">
                <p>1. ¿Cuál es la unidad estándar para medir la velocidad angular?</p>
                <hr>
                <label><input type="radio" name="p1" value="A"> A) metros por segundo (m/s)</label><br>
                <label><input type="radio" name="p1" value="B"> B) radianes por segundo (rad/s)</label><br>
                <label><input type="radio" name="p1" value="C"> C) grados por minuto (°/min)</label><br>
                <label><input type="radio" name="p1" value="D"> D) revoluciones por hora (rpm)</label>
            </div>

            <div class="pregunta">
                <p>2. La velocidad angular representa:</p>
                <hr>
                <label><input type="radio" name="p2" value="A"> A) La rapidez con la que cambia la posición
                    lineal</label><br>
                <label><input type="radio" name="p2" value="B"> B) El ángulo que gira un objeto por unidad de
                    tiempo</label><br>
                <label><input type="radio" name="p2" value="C"> C) La aceleración con la que un objeto aumenta su
                    velocidad</label><br>
                <label><input type="radio" name="p2" value="D"> D) La fuerza que actúa sobre un objeto en
                    rotación</label>
            </div>

            <div class="pregunta">
                <p>3. ¿Cuál es la fórmula que relaciona la velocidad angular (ω), la velocidad lineal (v) y el radio
                    (r)?</p>
                <hr>
                <label><input type="radio" name="p3" value="A"> A) ω = v / r</label><br>
                <label><input type="radio" name="p3" value="B"> B) ω = r / v</label><br>
                <label><input type="radio" name="p3" value="C"> C) v = ω × r²</label><br>
                <label><input type="radio" name="p3" value="D"> D) v = ω / r</label>
            </div>

            <div class="pregunta">
                <p>4. Si un objeto gira a una velocidad angular constante, ¿qué tipo de movimiento tiene?</p>
                <hr>
                <label><input type="radio" name="p4" value="A"> A) Movimiento acelerado</label><br>
                <label><input type="radio" name="p4" value="B"> B) Movimiento rotacional uniforme</label><br>
                <label><input type="radio" name="p4" value="C"> C) Movimiento rectilíneo uniforme</label><br>
                <label><input type="radio" name="p4" value="D"> D) Movimiento oscilatorio</label>
            </div>

            <div class="pregunta">
                <p>5. La velocidad angular puede ser positiva o negativa para indicar:</p>
                <hr>
                <label><input type="radio" name="p5" value="A"> A) La dirección del giro (sentido horario o
                    antihorario)</label><br>
                <label><input type="radio" name="p5" value="B"> B) La magnitud de la velocidad</label><br>
                <label><input type="radio" name="p5" value="C"> C) La energía cinética</label><br>
                <label><input type="radio" name="p5" value="D"> D) La masa del objeto</label>
            </div>

            <div class="pregunta">
                <p>6. ¿Qué relación tiene la aceleración angular con la velocidad angular?</p>
                <hr>
                <label><input type="radio" name="p6" value="A"> A) La aceleración angular es el cambio de la velocidad
                    angular por unidad de tiempo</label><br>
                <label><input type="radio" name="p6" value="B"> B) La aceleración angular es la velocidad angular al
                    cuadrado</label><br>
                <label><input type="radio" name="p6" value="C"> C) Son iguales</label><br>
                <label><input type="radio" name="p6" value="D"> D) No están relacionadas</label>
            </div>

            <div class="pregunta">
                <p>7. ¿Qué indica que la velocidad angular sea cero en un cuerpo en rotación?</p>
                <hr>
                <label><input type="radio" name="p7" value="A"> A) El cuerpo está en reposo angular</label><br>
                <label><input type="radio" name="p7" value="B"> B) El cuerpo tiene máxima energía cinética</label><br>
                <label><input type="radio" name="p7" value="C"> C) El cuerpo tiene aceleración máxima</label><br>
                <label><input type="radio" name="p7" value="D"> D) El cuerpo cambia de dirección</label>
            </div>

            <div class="pregunta">
                <p>8. ¿Qué representa el símbolo ω en física?</p>
                <hr>
                <label><input type="radio" name="p8" value="A"> A) Aceleración lineal</label><br>
                <label><input type="radio" name="p8" value="B"> B) Velocidad angular</label><br>
                <label><input type="radio" name="p8" value="C"> C) Fuerza</label><br>
                <label><input type="radio" name="p8" value="D"> D) Torque</label>
            </div>

            <div class="pregunta">
                <p>9. ¿Qué sucede con la velocidad angular si el radio del objeto se incrementa, manteniendo constante
                    la velocidad lineal?</p>
                <hr>
                <label><input type="radio" name="p9" value="A"> A) Aumenta</label><br>
                <label><input type="radio" name="p9" value="B"> B) Disminuye</label><br>
                <label><input type="radio" name="p9" value="C"> C) Permanece igual</label><br>
                <label><input type="radio" name="p9" value="D"> D) Se vuelve cero</label>
            </div>

            <div class="pregunta">
                <p>10. ¿Qué representa una velocidad angular constante en un sistema rotacional?</p>
                <hr>
                <label><input type="radio" name="p10" value="A"> A) El objeto gira con aceleración constante</label><br>
                <label><input type="radio" name="p10" value="B"> B) El objeto gira con velocidad angular constante (sin
                    aceleración angular)</label><br>
                <label><input type="radio" name="p10" value="C"> C) El objeto está en reposo</label><br>
                <label><input type="radio" name="p10" value="D"> D) El torque neto es máximo</label>
            </div>


            <!-- Botón Enviar -->
            <div class="boton">
                <button type="submit" class="btn-enviar">Enviar</button>
            </div>

        </form>
    </div>

    <!-- Modal -->
    <div id="modal-mensaje" class="modal">
        <div class="modal-contenido">
            <p>¡Gracias por completar el examen!<br>Tus respuestas han sido enviadas.</p>
            <button class="modal-boton" onclick="cerrarModal()">Aceptar</button>
        </div>
    </div>

    <script>
        insertarLogo();//funcion que pone el logo de la pagina de forma automatica
        checkSession(true)
        const respuestasCorrectas = {
            p1: "C", p2: "C", p3: "A", p4: "B", p5: "B",
            p6: "B", p7: "B", p8: "C", p9: "B", p10: "A"
        };

        document.getElementById('formulario-quiz').addEventListener('submit', function (e) {
            e.preventDefault();

            const sesion = checkSession(true);
            if (!sesion.length) {
                alert("No hay sesión activa");
                return;
            }
            const userName = sesion[0].userName || sesion[0].correo;

            for (let i = 1; i <= 10; i++) {
                const opciones = document.getElementsByName(`p${i}`);
                const respondida = Array.from(opciones).some(op => op.checked);
                if (!respondida) {
                    alert(`Por favor responde la pregunta ${i}.`);
                    return;
                }
            }

            let correctas = 0;
            const total = Object.keys(respuestasCorrectas).length;

            for (let clave in respuestasCorrectas) {
                const seleccion = document.querySelector(`input[name="${clave}"]:checked`);
                if (seleccion && seleccion.value === respuestasCorrectas[clave]) {
                    correctas++;
                }
            }

            localStorage.setItem(`${userName}_nivel 1.4`, JSON.stringify({//_nivel 1.4 debe cambiarse dependiedo al nivel
                completado: true,
                correctas,
                total
            }));

            document.getElementById("texto-modal").innerHTML =
                `¡Gracias por completar el examen!<br>Resultado: ${correctas}/${total}`;
            document.getElementById("modal-mensaje").style.display = "flex";
        });

        function reintentar() {
            const sesion = checkSession(true);
            if (!sesion.length) return;
            const userName = sesion[0].userName || sesion[0].correo;

            for (let i = 1; i <= 10; i++) {
                const opciones = document.getElementsByName(`p${i}`);
                opciones.forEach(op => op.checked = false);
            }

            localStorage.removeItem(`${userName}_nivel 1.4`);//_nivel 1.4 debe cambiarse dependiedo al nivel
            document.getElementById("modal-mensaje").style.display = "none";
        }
    </script>
    <script src="../JS/modal.js"></script><!--Importacion del script para funcionamiento de la ventana modal-->
</body>

</html>