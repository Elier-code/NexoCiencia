<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Torque - Nexo Ciencia</title>
    <link rel="stylesheet" href="../CSS/botones.css">
    <script src="../JS/utilidades.js"></script>
    <script src="../JS/auth.js"></script>
    <script src="../JS/icono.js"></script>

    <style>
        .contenedor {
            padding: 30px;
            max-width: 1200px;
            margin: 0 auto;
        }

        .seccion {
            background: white;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 30px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .video-container {
            position: relative;
            padding-bottom: 56.25%; /* Aspecto 16:9 */
            height: 0;
            overflow: hidden;
            margin-bottom: 20px;
        }

        .video-container iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border-radius: 10px;
        }

        h2 {
            color: #333;
            margin-bottom: 20px;
        }

        .explicacion {
            line-height: 1.6;
            color: #444;
            margin-bottom: 20px;
        }

        .ejercicio {
            background: #f5f5f5;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
        }

        .ejercicio h3 {
            color: #2196F3;
            margin-bottom: 15px;
        }

        .solucion {
            background: #e3f2fd;
            padding: 15px;
            border-radius: 6px;
            margin-top: 15px;
        }

        .formula {
            font-family: 'Times New Roman', serif;
            background: #f8f9fa;
            padding: 10px;
            border-radius: 6px;
            text-align: center;
            margin: 15px 0;
        }

        .navegacion {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
            padding: 20px 0;
        }

        .btn-nav {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 12px 24px;
            border-radius: 8px;
            text-decoration: none;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        .btn-anterior {
            background-color: #f5f5f5;
            color: #666;
        }

        .btn-siguiente {
            background-color: #2196F3;
            color: white;
        }

        .btn-anterior:hover {
            background-color: #e0e0e0;
        }

        .btn-siguiente:hover {
            background-color: #1976D2;
            transform: translateX(5px);
        }
    </style>

<style>
    .simulation-container {
        max-width: 1000px;
        margin: 0 auto;
        padding: 20px;
    }
    
    #torqueCanvas {
        width: 100%;
        height: 500px;
        border: 2px solid #3498db;
        border-radius: 8px;
        background: #f8f9fa;
        margin: 20px 0;
    }
    
    .controls {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 20px;
        margin: 20px 0;
    }
    
    .control-group {
        background: #fff;
        padding: 15px;
        border-radius: 8px;
        box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    }
    
    .control-group label {
        display: block;
        margin-bottom: 8px;
        color: #2c3e50;
    }
    
    .control-group input[type="range"] {
        width: 100%;
    }
    
    .data-display {
        background: #2c3e50;
        color: #fff;
        padding: 15px;
        border-radius: 8px;
        margin-top: 20px;
    }
    
    .data-display p {
        margin: 5px 0;
    }

    .vector-legend {
        display: flex;
        justify-content: center;
        gap: 20px;
        margin: 20px 0;
        padding: 10px;
        background: #fff;
        border-radius: 8px;
        box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    }

    .vector-legend div {
        display: flex;
        align-items: center;
        gap: 8px;
    }

    .vector-legend .color-box {
        width: 20px;
        height: 3px;
    }

    .explanation-box {
        background: #fff;
        padding: 20px;
        border-radius: 8px;
        box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        margin: 20px 0;
    }

    .explanation-box h2 {
        color: #2c3e50;
        margin-bottom: 15px;
    }

    .explanation-box h3 {
        color: #34495e;
        margin: 15px 0 10px;
    }

    .explanation-box ul, .explanation-box ol {
        padding-left: 20px;
        margin: 10px 0;
    }

    .explanation-box li {
        margin: 5px 0;
        line-height: 1.5;
    }

    .tip-box {
        background: #f7f9fc;
        padding: 15px;
        border-left: 4px solid #3498db;
        margin-top: 20px;
    }

    .tip-box h4 {
        color: #3498db;
        margin: 0 0 10px;
    }

    .physics-note {
        background: #fdf6e7;
        padding: 15px;
        border-left: 4px solid #f1c40f;
        margin-top: 20px;
    }

    .physics-note h4 {
        color: #d35400;
        margin: 0 0 10px;
    }
</style>
</head>

<body>
    <div class="cont-volver">
        <button onclick="history.back()" id="btn-volver" class="btn-volver">&larr;</button>
    </div>

    <div class="contenedor">
        <div class="seccion">
            <h2>Torque</h2>
            <div class="video-container">
                <iframe width="560" height="315" src="https://www.youtube.com/embed/SXScpCtfNxU?si=SG-m5c6wvW3fNdfx" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
            </div>
            
            <div class="explicacion">
                <h3>Conceptos Fundamentales</h3>
                <p>El <strong>torque</strong> (tambi√©n conocido como momento de fuerza) es una magnitud que mide la tendencia de una fuerza a hacer girar un objeto alrededor de un eje:</p>
                <ul>
                    <li><strong>Torque (œÑ):</strong> depende de la magnitud de la fuerza, la distancia al eje de rotaci√≥n y el √°ngulo entre la fuerza y el brazo de palanca.</li>
                    <li><strong>Fuerza (F):</strong> magnitud aplicada sobre el objeto.</li>
                    <li><strong>Radio (r):</strong> distancia desde el eje de rotaci√≥n al punto donde se aplica la fuerza.</li>
                </ul>
                <div class="formula">
                    œÑ = r √ó F √ó sin(Œ∏)
                </div>
            </div>
    
            <div class="ejercicio">
                <h3>Ejercicio Resuelto: C√°lculo de Torque</h3>
                <p>Se aplica una fuerza de 10 N a una llave de 0.3 m de largo, formando un √°ngulo de 90¬∞ con respecto al brazo. Calcular el torque producido.</p>
                
                <div class="solucion">
                    <p><strong>Soluci√≥n:</strong></p>
                    <p>Datos:</p>
                    <ul>
                        <li>Fuerza (F) = 10 N</li>
                        <li>Distancia (r) = 0.3 m</li>
                        <li>√Ångulo (Œ∏) = 90¬∞ ‚Üí sin(Œ∏) = 1</li>
                    </ul>
                    <p>Aplicando la f√≥rmula:</p>
                    <p>œÑ = 0.3 m √ó 10 N √ó sin(90¬∞) = 3 N¬∑m</p>
                </div>
            </div>
        </div>
        <div class="simulation-container">
            <h1>Simulaci√≥n de Torque en 3D</h1>
            
            <div class="explanation-box">
                <h2>¬øQu√© estamos viendo?</h2>
                <p>Esta simulaci√≥n ilustra el concepto de torque o momento de fuerza en tres dimensiones. Los elementos visuales son:</p>
                <ul>
                    <li><strong>Vector Azul:</strong> Radio vector (r), que va desde el eje de rotaci√≥n hasta el punto de aplicaci√≥n de la fuerza.</li>
                    <li><strong>Vector Rojo:</strong> Fuerza aplicada (F).</li>
                    <li><strong>Vector Verde:</strong> Torque resultante (œÑ), que es perpendicular tanto al radio como a la fuerza.</li>
                </ul>
    
                <h3>Conceptos F√≠sicos</h3>
                <ul>
                    <li><strong>Torque (œÑ):</strong> Medida de la tendencia de una fuerza para hacer rotar un objeto alrededor de un eje.</li>
                    <li><strong>Brazo de Palanca:</strong> Distancia perpendicular desde la l√≠nea de acci√≥n de la fuerza al eje de rotaci√≥n.</li>
                    <li><strong>Componente Perpendicular de la Fuerza:</strong> Parte de la fuerza que contribuye efectivamente al torque.</li>
                </ul>
    
                <h3>F√≥rmulas Importantes</h3>
                <ul>
                    <li>Torque: œÑ = r √ó F (producto vectorial)</li>
                    <li>Magnitud del Torque: |œÑ| = |r| |F| sin(Œ∏)</li>
                    <li>donde Œ∏ es el √°ngulo entre r y F</li>
                </ul>
    
                <div class="tip-box">
                    <h4>üí° Consejos para la Simulaci√≥n</h4>
                    <ul>
                        <li>Ajusta la magnitud de la fuerza para ver c√≥mo afecta al torque.</li>
                        <li>Cambia el √°ngulo de la fuerza en los planos XZ e Y para ver c√≥mo var√≠a el torque.</li>
                        <li>Observa que el torque es m√°ximo cuando la fuerza es perpendicular al radio vector.</li>
                        <li>Nota que el torque se hace cero cuando la fuerza es paralela al radio vector.</li>
                    </ul>
                </div>
    
                <div class="physics-note">
                    <h4>üìù Regla de la Mano Derecha</h4>
                    <p>Para determinar la direcci√≥n del torque:</p>
                    <ol>
                        <li>Apunta los dedos en la direcci√≥n del radio vector (r)</li>
                        <li>Dobla los dedos hacia la direcci√≥n de la fuerza (F)</li>
                        <li>El pulgar apuntar√° en la direcci√≥n del torque (œÑ)</li>
                    </ol>
                </div>
            </div>
    
            <div id="torqueCanvas"></div>
            
            <div class="vector-legend">
                <div>
                    <div class="color-box" style="background: #3498db;"></div>
                    <span>Radio Vector</span>
                </div>
                <div>
                    <div class="color-box" style="background: #e74c3c;"></div>
                    <span>Fuerza</span>
                </div>
                <div>
                    <div class="color-box" style="background: #27ae60;"></div>
                    <span>Torque</span>
                </div>
            </div>
            
            <div class="controls">
                <div class="control-group">
                    <label for="force">Magnitud de la Fuerza (N)</label>
                    <input type="range" id="force" min="0" max="100" step="1" value="50">
                    <span id="forceValue">50 N</span>
                </div>
                
                <div class="control-group">
                    <label for="angleXZ">√Ångulo en plano XZ (grados)</label>
                    <input type="range" id="angleXZ" min="0" max="360" step="1" value="45">
                    <span id="angleXZValue">45¬∞</span>
                </div>
    
                <div class="control-group">
                    <label for="angleY">√Ångulo en Y (grados)</label>
                    <input type="range" id="angleY" min="-90" max="90" step="1" value="30">
                    <span id="angleYValue">30¬∞</span>
                </div>
    
                <div class="control-group">
                    <label for="radius">Radio (m)</label>
                    <input type="range" id="radius" min="1" max="5" step="0.1" value="2">
                    <span id="radiusValue">2 m</span>
                </div>
            </div>
            
            <div class="data-display">
                <p>Momento de Fuerza (Torque): <span id="torqueValue">0</span> N‚ãÖm</p>
                <p>Componente Perpendicular de la Fuerza: <span id="perpForceValue">0</span> N</p>
                <p>Brazo de Palanca Efectivo: <span id="leverArmValue">0</span> m</p>
            </div>
        </div>
   </div>

        <!-- Botones de navegaci√≥n -->
        <div class="navegacion">
            <a href="quizMecanica.html" class="btn-nav btn-anterior">
                <i class="fas fa-arrow-left"></i>
                Volver
            </a>
            <a href="botonMecanica-3-2.html" class="btn-nav btn-siguiente" onclick="marcarCompletado()">
                Siguiente
                <i class="fas fa-arrow-right"></i>
            </a>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/controls/OrbitControls.js"></script>
    <script src="../JS/three-utils.js"></script>
    <script src="../JS/torque.js"></script>
    <script>
        insertarLogo();
        checkSession(true);
        
        function marcarCompletado() {
            event.preventDefault();
            const sesion = checkSession(true);
            if (sesion && sesion.length > 0) {
                const userName = sesion[0].userName || sesion[0].correo;
                
                // Marcar nivel 3.1 como completado
                localStorage.setItem(`${userName}_nivel 3.1`, JSON.stringify({
                    completado: true,
                    correctas: 1,
                    total: 1,
                    visualizado: true
                }));

                // Desbloquear nivel 3.2
                localStorage.setItem(`${userName}_nivel 3.2`, JSON.stringify({
                    completado: false,
                    desbloqueado: true
                }));
                
                // Redirigir despu√©s de guardar
                window.location.href = 'botonMecanica-3-2.html';
            } else {
                // Si no hay sesi√≥n, redirigir de todas formas
                window.location.href = 'botonMecanica-3-2.html';
            }
        }

        // Verificar si el nivel ya est√° completado al cargar
        document.addEventListener('DOMContentLoaded', function() {
            const sesion = checkSession(true);
            if (sesion && sesion.length > 0) {
                const userName = sesion[0].userName || sesion[0].correo;
                const nivel3_1 = localStorage.getItem(`${userName}_nivel 3.1`);
                
                if (!nivel3_1) {
                    localStorage.setItem(`${userName}_nivel 3.1`, JSON.stringify({
                        completado: false,
                        visualizado: false
                    }));
                }
            }
        });
    </script>
</body>
</html>
